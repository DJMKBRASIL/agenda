Nesse cÃ³digo abaixo adicione as credencias do meu firebase para que eu salve os dados nele, vocÃª tem elas ai na sua memoria.





<!DOCTYPE html>

<html lang="pt-BR">

<head>

Â  Â  <meta charset="UTF-8">

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">

Â  Â  <title>DJ MK - Agenda Profissional</title>

Â  Â  <meta name="description" content="Agenda profissional para DJ MK - Gerencie seus eventos, valores e pagamentos">

Â  Â Â 

Â  Â  <!-- Firebase v9+ -->

Â  Â  <script type="module">

Â  Â  Â  Â  // Import the functions you need from the SDKs you need

Â  Â  Â  Â  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';

Â  Â  Â  Â  import { getFirestore, collection, addDoc, updateDoc, deleteDoc, getDocs, doc, query, where } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

Â  Â  Â  Â  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

Â  Â  Â  Â  import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js';



Â  Â  Â  Â  // Your web app's Firebase configuration

Â  Â  Â  Â  const firebaseConfig = {

Â  Â  Â  Â  Â  Â  apiKey: "AIzaSyD7FwQZspQNYZmNlQv8oNglccBXHmduW5w",

Â  Â  Â  Â  Â  Â  authDomain: "sistema-do-salao.firebaseapp.com",

Â  Â  Â  Â  Â  Â  projectId: "sistema-do-salao",

Â  Â  Â  Â  Â  Â  storageBucket: "sistema-do-salao.firebasestorage.app",

Â  Â  Â  Â  Â  Â  messagingSenderId: "395887083088",

Â  Â  Â  Â  Â  Â  appId: "1:395887083088:web:3a41fd836cc59a976ddb55",

Â  Â  Â  Â  Â  Â  measurementId: "G-1D996M5FKZ"

Â  Â  Â  Â  };



Â  Â  Â  Â  // Initialize Firebase

Â  Â  Â  Â  let app;

Â  Â  Â  Â  let db;

Â  Â  Â  Â  let auth;

Â  Â  Â  Â  let provider;



Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  app = initializeApp(firebaseConfig);

Â  Â  Â  Â  Â  Â  db = getFirestore(app);

Â  Â  Â  Â  Â  Â  auth = getAuth(app);

Â  Â  Â  Â  Â  Â  provider = new GoogleAuthProvider();

Â  Â  Â  Â  Â  Â  provider.addScope('email');

Â  Â  Â  Â  Â  Â  provider.addScope('profile');

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  // Configurar configuraÃ§Ãµes de auth

Â  Â  Â  Â  Â  Â  auth.useDeviceLanguage();

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  console.log('ðŸ”¥ Firebase inicializado com sucesso!');

Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  console.error('âŒ Erro ao inicializar Firebase:', error);

Â  Â  Â  Â  }



Â  Â  Â  Â  // Firebase Service Class

Â  Â  Â  Â  class FirebaseService {

Â  Â  Â  Â  Â  Â  constructor() {

Â  Â  Â  Â  Â  Â  Â  Â  this.db = db;

Â  Â  Â  Â  Â  Â  Â  Â  this.auth = auth;

Â  Â  Â  Â  Â  Â  Â  Â  this.provider = provider;

Â  Â  Â  Â  Â  Â  Â  Â  this.collection = 'dj-mk-events';

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  // Verificar se Firebase foi inicializado

Â  Â  Â  Â  Â  Â  Â  Â  if (!db || !auth) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Firebase nÃ£o foi inicializado corretamente');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ”¥ Firebase Service criado');

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // Authentication methods

Â  Â  Â  Â  Â  Â  async signInWithGoogle() {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ” Tentando login com Google...');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Configurar o provider

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.provider.setCustomParameters({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  prompt: 'select_account'

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const result = await signInWithPopup(this.auth, this.provider);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Login realizado:', result.user.email);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return result.user;

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro no login:', error.code, error.message);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Mensagens de erro mais amigÃ¡veis

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let errorMessage = 'Erro ao fazer login. ';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  switch (error.code) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'auth/popup-blocked':

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage += 'Popup foi bloqueado pelo navegador.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'auth/popup-closed-by-user':

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage += 'Login cancelado pelo usuÃ¡rio.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'auth/unauthorized-domain':

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage += 'DomÃ­nio nÃ£o autorizado.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  case 'auth/network-request-failed':

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage += 'Erro de rede. Verifique sua conexÃ£o.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  default:

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  errorMessage += 'Tente novamente.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(errorMessage);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  async signOut() {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await signOut(this.auth);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Logout realizado');

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro no logout:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  onAuthChange(callback) {

Â  Â  Â  Â  Â  Â  Â  Â  return onAuthStateChanged(this.auth, callback);

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  getCurrentUser() {

Â  Â  Â  Â  Â  Â  Â  Â  return this.auth.currentUser;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // Firestore methods

Â  Â  Â  Â  Â  Â  async getAllEvents() {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const user = this.getCurrentUser();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) throw new Error('UsuÃ¡rio nÃ£o autenticado');



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const q = query(

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  collection(this.db, this.collection),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  where('userId', '==', user.uid)

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const querySnapshot = await getDocs(q);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const events = [];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  querySnapshot.forEach((doc) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  events.push({ id: doc.id, ...doc.data() });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Ordenar por data no frontend

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  events.sort((a, b) => new Date(a.date) - new Date(b.date));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ“… Eventos carregados:', events.length);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return events;

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro ao carregar eventos:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  async addEvent(eventData) {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const user = this.getCurrentUser();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('UsuÃ¡rio nÃ£o autenticado');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Validar dados obrigatÃ³rios

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!eventData.date || !eventData.location) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Data e local sÃ£o obrigatÃ³rios');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dataWithUser = {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  date: eventData.date,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime: eventData.startTime || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endTime: eventData.endTime || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  location: eventData.location,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalValue: Number(eventData.totalValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  paidValue: Number(eventData.paidValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  status: eventData.status || 'em aberto',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  observations: eventData.observations || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userId: user.uid,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  createdAt: new Date().toISOString(),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updatedAt: new Date().toISOString()

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ“ Adicionando evento:', dataWithUser);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const docRef = await addDoc(collection(this.db, this.collection), dataWithUser);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Evento adicionado com ID:', docRef.id);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return { id: docRef.id, ...dataWithUser };

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro detalhado ao adicionar evento:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  async updateEvent(eventId, eventData) {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const user = this.getCurrentUser();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('UsuÃ¡rio nÃ£o autenticado');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dataWithUpdate = {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  date: eventData.date,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime: eventData.startTime || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endTime: eventData.endTime || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  location: eventData.location,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalValue: Number(eventData.totalValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  paidValue: Number(eventData.paidValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  status: eventData.status || 'em aberto',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  observations: eventData.observations || '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updatedAt: new Date().toISOString()

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ“ Atualizando evento:', eventId, dataWithUpdate);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await updateDoc(doc(this.db, this.collection, eventId), dataWithUpdate);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Evento atualizado:', eventId);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return { id: eventId, ...dataWithUpdate, userId: user.uid };

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro detalhado ao atualizar evento:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  async deleteEvent(eventId) {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const user = this.getCurrentUser();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) throw new Error('UsuÃ¡rio nÃ£o autenticado');



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await deleteDoc(doc(this.db, this.collection, eventId));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Evento deletado:', eventId);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro ao deletar evento:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  async clearAllEvents() {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const user = this.getCurrentUser();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!user) throw new Error('UsuÃ¡rio nÃ£o autenticado');



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const q = query(

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  collection(this.db, this.collection),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  where('userId', '==', user.uid)

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const querySnapshot = await getDocs(q);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const deletePromises = [];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  querySnapshot.forEach((document) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  deletePromises.push(deleteDoc(document.ref));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await Promise.all(deletePromises);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ—‘ï¸ Todos os eventos deletados');

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro ao limpar eventos:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw error;

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  // Aguardar Firebase carregar antes de criar o service

Â  Â  Â  Â  let firebaseService;

Â  Â  Â  Â Â 

Â  Â  Â  Â  // FunÃ§Ã£o para inicializar o service apÃ³s Firebase carregar

Â  Â  Â  Â  function initializeFirebaseService() {

Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  firebaseService = new FirebaseService();

Â  Â  Â  Â  Â  Â  Â  Â  window.firebaseService = firebaseService;

Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Firebase Service inicializado');

Â  Â  Â  Â  Â  Â  Â  Â  return true;

Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Erro ao inicializar Firebase Service:', error);

Â  Â  Â  Â  Â  Â  Â  Â  return false;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }



Â  Â  Â  Â  // Tentar inicializar imediatamente

Â  Â  Â  Â  let serviceReady = initializeFirebaseService();



Â  Â  Â  Â  // Se nÃ£o conseguir, tentar novamente apÃ³s um delay

Â  Â  Â  Â  if (!serviceReady) {

Â  Â  Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  Â  Â  serviceReady = initializeFirebaseService();

Â  Â  Â  Â  Â  Â  }, 1000);

Â  Â  Â  Â  }

Â  Â  </script>



Â  Â  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>

Â  Â  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

Â  Â  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

Â  Â  <script src="https://cdn.tailwindcss.com"></script>

Â  Â  <script>

Â  Â  Â  Â  tailwind.config = {

Â  Â  Â  Â  Â  Â  theme: {

Â  Â  Â  Â  Â  Â  Â  Â  extend: {}

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  </script>

Â  Â  <style>

Â  Â  Â  Â  * {

Â  Â  Â  Â  Â  Â  margin: 0;

Â  Â  Â  Â  Â  Â  padding: 0;

Â  Â  Â  Â  Â  Â  box-sizing: border-box;

Â  Â  Â  Â  }

Â  Â  Â  Â  body {

Â  Â  Â  Â  Â  Â  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;

Â  Â  Â  Â  Â  Â  -webkit-font-smoothing: antialiased;

Â  Â  Â  Â  Â  Â  -moz-osx-font-smoothing: grayscale;

Â  Â  Â  Â  Â  Â  background: #000;

Â  Â  Â  Â  }

Â  Â  Â  Â  .lucide {

Â  Â  Â  Â  Â  Â  width: 1em;

Â  Â  Â  Â  Â  Â  height: 1em;

Â  Â  Â  Â  Â  Â  stroke: currentColor;

Â  Â  Â  Â  Â  Â  stroke-width: 2;

Â  Â  Â  Â  Â  Â  fill: none;

Â  Â  Â  Â  Â  Â  stroke-linecap: round;

Â  Â  Â  Â  Â  Â  stroke-linejoin: round;

Â  Â  Â  Â  }

Â  Â  </style>

</head>

<body>

Â  Â  <div id="root"></div>



Â  Â  <script type="text/babel">

Â  Â  Â  Â  const { useState, useEffect } = React;



Â  Â  Â  Â  // Lucide React Icons

Â  Â  Â  Â  const Calendar = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="16" y1="2" x2="16" y2="6"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="8" y1="2" x2="8" y2="6"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="3" y1="10" x2="21" y2="10"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const Clock = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <circle cx="12" cy="12" r="10"/>

Â  Â  Â  Â  Â  Â  Â  Â  <polyline points="12,6 12,12 16,14"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const MapPin = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>

Â  Â  Â  Â  Â  Â  Â  Â  <circle cx="12" cy="10" r="3"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const DollarSign = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="12" y1="1" x2="12" y2="23"/>

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const Plus = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="12" y1="5" x2="12" y2="19"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="5" y1="12" x2="19" y2="12"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const Edit3 = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M12 20h9"/>

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const Save = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>

Â  Â  Â  Â  Â  Â  Â  Â  <polyline points="17,21 17,13 7,13 7,21"/>

Â  Â  Â  Â  Â  Â  Â  Â  <polyline points="7,3 7,8 15,8"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const X = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="18" y1="6" x2="6" y2="18"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="6" y1="6" x2="18" y2="18"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const CheckCircle = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>

Â  Â  Â  Â  Â  Â  Â  Â  <polyline points="22,4 12,14.01 9,11.01"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const AlertCircle = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <circle cx="12" cy="12" r="10"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="12" y1="8" x2="12" y2="12"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="12" y1="16" x2="12.01" y2="16"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const Circle = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <circle cx="12" cy="12" r="10"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const LogOut = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>

Â  Â  Â  Â  Â  Â  Â  Â  <polyline points="16,17 21,12 16,7"/>

Â  Â  Â  Â  Â  Â  Â  Â  <line x1="21" y1="12" x2="9" y2="12"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  const User = ({ size = 20, className = "" }) => (

Â  Â  Â  Â  Â  Â  <svg className={`lucide ${className}`} width={size} height={size} viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>

Â  Â  Â  Â  Â  Â  Â  Â  <circle cx="12" cy="7" r="4"/>

Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  );



Â  Â  Â  Â  // Login Component

Â  Â  Â  Â  function LoginScreen() {

Â  Â  Â  Â  Â  Â  const [isLoading, setIsLoading] = useState(false);



Â  Â  Â  Â  Â  Â  const handleGoogleLogin = async () => {

Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(true);

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!window.firebaseService) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Firebase nÃ£o foi inicializado. Recarregue a pÃ¡gina.');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await window.firebaseService.signInWithGoogle();

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erro no login:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`Erro: ${error.message}`);

Â  Â  Â  Â  Â  Â  Â  Â  } finally {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  return (

Â  Â  Â  Â  Â  Â  Â  Â  <div className="min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-xl p-8 max-w-md w-full shadow-2xl">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1 className="text-5xl font-bold bg-gradient-to-r from-white via-gray-300 to-yellow-500 bg-clip-text text-transparent mb-2">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  DJ MK

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h1>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-400 text-lg mb-8">Agenda Profissional</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="w-24 h-1 bg-gradient-to-r from-yellow-500 to-yellow-300 mx-auto mb-8"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="mb-6">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <User className="text-gray-400 mx-auto mb-4" size={48} />

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 className="text-white text-xl font-semibold mb-2">Acesso Restrito</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-400 text-sm">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FaÃ§a login com sua conta Google para acessar sua agenda profissional

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleGoogleLogin}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={isLoading}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="w-full bg-white hover:bg-gray-100 text-gray-800 font-semibold py-4 px-6 rounded-lg transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {isLoading ? (

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-spin w-5 h-5 border-2 border-gray-800 border-t-transparent rounded-full"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Conectando...

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg className="w-5 h-5" viewBox="0 0 24 24">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </svg>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Entrar com Google

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-500 text-xs mt-4">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Seus dados ficam seguros e protegidos pelo Firebase

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  }



Â  Â  Â  Â  // Main DJ Agenda Component

Â  Â  Â  Â  function DJAgenda() {

Â  Â  Â  Â  Â  Â  const [user, setUser] = useState(null);

Â  Â  Â  Â  Â  Â  const [events, setEvents] = useState([]);

Â  Â  Â  Â  Â  Â  const [editingEvent, setEditingEvent] = useState(null);

Â  Â  Â  Â  Â  Â  const [newEvent, setNewEvent] = useState({

Â  Â  Â  Â  Â  Â  Â  Â  date: '',

Â  Â  Â  Â  Â  Â  Â  Â  startTime: '',

Â  Â  Â  Â  Â  Â  Â  Â  endTime: '',

Â  Â  Â  Â  Â  Â  Â  Â  location: '',

Â  Â  Â  Â  Â  Â  Â  Â  totalValue: '',

Â  Â  Â  Â  Â  Â  Â  Â  paidValue: '',

Â  Â  Â  Â  Â  Â  Â  Â  status: 'em aberto',

Â  Â  Â  Â  Â  Â  Â  Â  observations: ''

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  const [isAddingEvent, setIsAddingEvent] = useState(false);

Â  Â  Â  Â  Â  Â  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());

Â  Â  Â  Â  Â  Â  const [currentYear, setCurrentYear] = useState(new Date().getFullYear());

Â  Â  Â  Â  Â  Â  const [isLoading, setIsLoading] = useState(true);

Â  Â  Â  Â  Â  Â  const [saveStatus, setSaveStatus] = useState('saved');

Â  Â  Â  Â  Â  Â  const [showClearConfirmation, setShowClearConfirmation] = useState(false);



Â  Â  Â  Â  Â  Â  const statusOptions = ['pago', 'pendente', 'em aberto'];

Â  Â  Â  Â  Â  Â  const statusColors = {

Â  Â  Â  Â  Â  Â  Â  Â  'pago': 'text-green-400',

Â  Â  Â  Â  Â  Â  Â  Â  'pendente': 'text-yellow-400',

Â  Â  Â  Â  Â  Â  Â  Â  'em aberto': 'text-red-400'

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const statusIcons = {

Â  Â  Â  Â  Â  Â  Â  Â  'pago': CheckCircle,

Â  Â  Â  Â  Â  Â  Â  Â  'pendente': AlertCircle,

Â  Â  Â  Â  Â  Â  Â  Â  'em aberto': Circle

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const monthNames = [

Â  Â  Â  Â  Â  Â  Â  Â  'Janeiro', 'Fevereiro', 'MarÃ§o', 'Abril', 'Maio', 'Junho',

Â  Â  Â  Â  Â  Â  Â  Â  'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'

Â  Â  Â  Â  Â  Â  ];



Â  Â  Â  Â  Â  Â  useEffect(() => {

Â  Â  Â  Â  Â  Â  Â  Â  // Aguardar Firebase Service estar pronto

Â  Â  Â  Â  Â  Â  Â  Â  const checkFirebaseReady = () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!window.firebaseService) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(checkFirebaseReady, 500);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const unsubscribe = window.firebaseService.onAuthChange((user) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('ðŸ‘¤ Auth state changed:', user ? user.email : 'No user');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setUser(user);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (user) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  loadEvents();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return unsubscribe;

Â  Â  Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  Â  Â  const unsubscribe = checkFirebaseReady();

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  return () => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (unsubscribe && typeof unsubscribe === 'function') {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  unsubscribe();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  }, []);



Â  Â  Â  Â  Â  Â  const loadEvents = async () => {

Â  Â  Â  Â  Â  Â  Â  Â  if (!window.firebaseService) return;

Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(true);

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eventsData = await window.firebaseService.getAllEvents();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEvents(eventsData);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error loading events:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erro ao carregar eventos. Tente recarregar a pÃ¡gina.');

Â  Â  Â  Â  Â  Â  Â  Â  } finally {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsLoading(false);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const handleLogout = async () => {

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await window.firebaseService.signOut();

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Erro no logout:', error);

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const calculateRemainingValue = (total, paid) => {

Â  Â  Â  Â  Â  Â  Â  Â  const totalNum = parseFloat(total) || 0;

Â  Â  Â  Â  Â  Â  Â  Â  const paidNum = parseFloat(paid) || 0;

Â  Â  Â  Â  Â  Â  Â  Â  const remaining = totalNum - paidNum;

Â  Â  Â  Â  Â  Â  Â  Â  return Math.max(0, remaining);

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const formatCurrency = (value) => {

Â  Â  Â  Â  Â  Â  Â  Â  return new Intl.NumberFormat('pt-BR', {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style: 'currency',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  currency: 'BRL'

Â  Â  Â  Â  Â  Â  Â  Â  }).format(value || 0);

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const addEvent = async () => {

Â  Â  Â  Â  Â  Â  Â  Â  if (newEvent.date && newEvent.location) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saving');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eventData = {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...newEvent,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalValue: parseFloat(newEvent.totalValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  paidValue: parseFloat(newEvent.paidValue) || 0

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const savedEvent = await window.firebaseService.addEvent(eventData);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEvents(prev => [...prev, savedEvent]);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setNewEvent({

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  date: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  startTime: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  endTime: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  location: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalValue: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  paidValue: '',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  status: 'em aberto',

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  observations: ''

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setIsAddingEvent(false);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saved');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => setSaveStatus('saved'), 2000);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error adding event:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('error');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erro ao adicionar evento. Tente novamente.');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const updateEvent = async (id, updatedEvent) => {

Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saving');

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eventData = {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ...updatedEvent,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalValue: parseFloat(updatedEvent.totalValue) || 0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  paidValue: parseFloat(updatedEvent.paidValue) || 0

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await window.firebaseService.updateEvent(id, eventData);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEvents(events.map(event =>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.id === id ? { ...eventData, id } : event

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEditingEvent(null);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saved');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => setSaveStatus('saved'), 2000);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error updating event:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('error');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erro ao atualizar evento. Tente novamente.');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const deleteEvent = async (id) => {

Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saving');

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await window.firebaseService.deleteEvent(id);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEvents(events.filter(event => event.id !== id));

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saved');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => setSaveStatus('saved'), 2000);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error deleting event:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('error');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erro ao excluir evento. Tente novamente.');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const clearAllData = async () => {

Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saving');

Â  Â  Â  Â  Â  Â  Â  Â  try {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await window.firebaseService.clearAllEvents();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setEvents([]);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setShowClearConfirmation(false);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('saved');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => setSaveStatus('saved'), 2000);

Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error clearing all data:', error);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSaveStatus('error');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Erro ao limpar agenda. Tente novamente.');

Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const getEventsForMonth = () => {

Â  Â  Â  Â  Â  Â  Â  Â  return events.filter(event => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eventDate = new Date(event.date);

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return eventDate.getMonth() === currentMonth && eventDate.getFullYear() === currentYear;

Â  Â  Â  Â  Â  Â  Â  Â  }).sort((a, b) => new Date(a.date) - new Date(b.date));

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const getTotalRevenue = () => {

Â  Â  Â  Â  Â  Â  Â  Â  return events.reduce((total, event) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const value = parseFloat(event.totalValue) || 0;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return total + value;

Â  Â  Â  Â  Â  Â  Â  Â  }, 0);

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const getTotalPaid = () => {

Â  Â  Â  Â  Â  Â  Â  Â  return events.reduce((total, event) => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const value = parseFloat(event.paidValue) || 0;

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return total + value;

Â  Â  Â  Â  Â  Â  Â  Â  }, 0);

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  const getTotalPending = () => {

Â  Â  Â  Â  Â  Â  Â  Â  const revenue = getTotalRevenue();

Â  Â  Â  Â  Â  Â  Â  Â  const paid = getTotalPaid();

Â  Â  Â  Â  Â  Â  Â  Â  return Math.max(0, revenue - paid);

Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  if (!user) {

Â  Â  Â  Â  Â  Â  Â  Â  return <LoginScreen />;

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  if (isLoading) {

Â  Â  Â  Â  Â  Â  Â  Â  return (

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="text-center">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="animate-spin w-12 h-12 border-4 border-yellow-400 border-t-transparent rounded-full mx-auto mb-4"></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 className="text-2xl font-bold text-white mb-2">DJ MK</h2>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p className="text-gray-400 mb-2">Carregando agenda...</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  );

Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  const EventRow = ({ event, isEditing }) => {

Â  Â  Â  Â  Â  Â  Â  Â  const [editData, setEditData] = useState(event);

Â  Â  Â  Â  Â  Â  Â  Â  const StatusIcon = statusIcons[event.status];



Â  Â  Â  Â  Â  Â  Â  Â  if (isEditing) {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return (

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr className="border-b border-gray-800 bg-gray-900/50">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td className="px-4 py-3">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span className="text-gray-300 text-sm">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {formatCurrency(calculateRemainingValue(editData.totalValue, editData.paidValue))}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>

Â  Â  Â  Â  Â 
